<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>页面跳转中...</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f5f5f5;
        }
        .loading {
            text-align: center;
            color: #666;
        }
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="loading">
        <div class="spinner"></div>
        <p>正在检测设备类型并跳转...</p>
    </div>

    <script>
        // 检测设备类型的函数
        function detectDevice() {
            // 获取用户代理字符串
            const userAgent = navigator.userAgent.toLowerCase();
            
            // 移动设备检测正则表达式
            const mobileRegex = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile|tablet/i;
            
            // 检测是否为移动设备
            const isMobile = mobileRegex.test(userAgent);
            
            // 备用检测方法：屏幕宽度
            const isMobileByWidth = window.innerWidth <= 768;
            
            // 综合判断
            const deviceType = (isMobile || isMobileByWidth) ? 'mobile' : 'desktop';
            
            return deviceType;
        }

        // 执行设备检测和跳转
        function redirectDevice() {
            const deviceType = detectDevice();
            
            if (deviceType === 'mobile') {
                // 移动设备跳转到mobile-index.html
                window.location.href = 'mobile-index.html';
            } else {
                // 桌面设备跳转到desktop-index.html
                window.location.href = 'desktop-index.html';
            }
        }

        // 页面加载完成后执行跳转
        document.addEventListener('DOMContentLoaded', function() {
            // 延迟100ms执行，确保页面完全加载
            setTimeout(redirectDevice, 100);
        });

        // 备用跳转方案：如果DOMContentLoaded事件已经触发
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', redirectDevice);
        } else {
            // 文档已经加载完成，直接跳转
            setTimeout(redirectDevice, 100);
        }

        // 控制台输出调试信息
        console.log('设备检测结果:', detectDevice());
        console.log('用户代理:', navigator.userAgent);
    </script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"rayId":"99ed8a8b3835445e","serverTiming":{"name":{"cfExtPri":true,"cfEdge":true,"cfOrigin":true,"cfL4":true,"cfSpeedBrain":true,"cfCacheStatus":true}},"version":"2025.9.1","token":"e72945439c264b3b85d2e3b689102d27"}' crossorigin="anonymous"></script>
</body>
</html>